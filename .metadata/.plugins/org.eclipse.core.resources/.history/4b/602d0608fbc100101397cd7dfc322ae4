// Descrição do exercício.

/* Fazer um programa para ler nome, idade e altura de N pessoas, conforme exemplo. Depois, mostrar na
tela a altura média das pessoas, e mostrar também a porcentagem de pessoas com menos de 16 anos,
bem como os nomes dessas pessoas caso houver. */

// Exercício modificado para fazer uso de práticas de OO e ArrayList.

package application;
// Importações
import java.util.Locale;
import java.util.Scanner;
import java.util.List;
import java.util.ArrayList;

import entities.People;

public class Program {

	public static void main(String[] args) {
		
		// Alteração do local para US, permitindo o uso de ponto como separador decimal.
		Locale.setDefault(Locale.US);
		
		// Declaração do Scanner.
		Scanner scanner = new Scanner(System.in);
		
		// Declaração de variável, controlando a qtd de pessoas.
		int qtdPessoas;
		
		// Checagem inicial garantindo uma entrada válida de dados.
		do {
			System.out.print("Quantas pessoas serão digitadas?: ");
			qtdPessoas = scanner.nextInt();
			if(qtdPessoas <= 0) {
				System.out.println("Quantidade inválida!");
				System.out.println("Digite um valor inteiro maior que zero.");
			}
		} while(qtdPessoas <= 0);
		
		System.out.println(); // Quebra de linha para melhor legibilidade.
		
		// Criação de uma lista, armazenando objetos do tipo entities.Pessoa.
		List<People> list = new ArrayList<>();
		
		// Coleta e registro dos dados.
		for(int i = 0; i < qtdPessoas; i++) {
			System.out.printf("Dados da %dª pessoa:%n", i+1);
			System.out.println(); // Quebra de linha para melhor legibilidade.
			
			System.out.print("Nome: ");
			scanner.nextLine(); // Consome a quebra de linha pendente do último nextInt().
			String nome = scanner.nextLine();
			
			System.out.print("Idade: ");
			int idade = scanner.nextInt();
			
			System.out.print("Altura: ");
			double altura = scanner.nextDouble();
			
			System.out.println(); // Quebra de linha para melhor legibilidade.
			
			list.add(new People(nome, idade, altura)); // Código onde cada registro é feito como um novo objeto do tipo pessoa.
		}
				
		// Bloco responsável pela obtenção da altura média das pessoas.
		// Declaração de variável para armazenar a soma de todas as alturas.
		double somaAlturas = 0.0;
		
		// For each percorrendo a lista.
		for(People obj : list) {
			somaAlturas += obj.getAltura(); // Através do método getAltura() os dados são coletatos e somados a variável somaAltura.
		}
		
		// Declaração de variável armazenando a média das alturas.
		double mediaAlturas = somaAlturas/list.size();
		
		// Exibição da altura média.
		System.out.printf("Altura média: %.2f%n", mediaAlturas);
		
		// Bloco responsável pela exibição de estatísticas e pessoas com menos de 16 anos.
		// Declaração de variável para armazenar a qtd de pessoas menores de 16 anos.
		int qtdMenores16 = 0;
		
		// For each percorrendo a lista.
		for(People obj : list) {
			if(obj.getIdade() < 16) { // Condicional buscando pessoas com idade menor que 16.
				qtdMenores16 ++; // Acrescenta a variável contadora.
			}
		}
		
		// Declaração de variável armazenando a porcentagem de pessoas menores.
		double porcentagem = qtdMenores16 * 100.0 / list.size();
		
		// Exbibição da porcentagem de pessoas menores que 16.
		System.out.printf("Pessoas com menos de 16 anos: %.1f%n", porcentagem);
		
		
		// Fechamento do Scanner.
		scanner.close();

	}

}
